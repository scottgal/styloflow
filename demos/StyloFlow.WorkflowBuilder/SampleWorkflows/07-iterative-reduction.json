{
  "id": "sample-iterative-reduction",
  "name": "Iterative Reduction Pipeline",
  "description": "Accumulates items and iteratively reduces 50 -> 5 using batched reduction",
  "nodes": [
    {
      "id": "api-1",
      "manifestName": "json-api",
      "x": 100,
      "y": 200,
      "config": {
        "url": "https://test.stylobot.net/api/v1/models",
        "method": "GET"
      }
    },
    {
      "id": "collector-1",
      "manifestName": "window-collector",
      "x": 300,
      "y": 200,
      "config": {
        "window_name": "items",
        "max_items": 100
      }
    },
    {
      "id": "accumulator-1",
      "manifestName": "accumulator",
      "x": 500,
      "y": 200,
      "config": {
        "window_name": "items",
        "group_by": "type"
      }
    },
    {
      "id": "iterative-1",
      "manifestName": "iterative-reducer",
      "x": 750,
      "y": 200,
      "config": {
        "window_name": "items",
        "target_count": 5,
        "batch_size": 10,
        "operation": "avg"
      }
    },
    {
      "id": "mmr-1",
      "manifestName": "mmr-scorer",
      "x": 1000,
      "y": 200,
      "config": {
        "window_name": "reduced",
        "lambda": 0.7,
        "top_n": 3
      }
    },
    {
      "id": "log-1",
      "manifestName": "log-writer",
      "x": 1250,
      "y": 200,
      "config": {}
    }
  ],
  "edges": [
    {
      "id": "e1",
      "sourceNodeId": "api-1",
      "signalKey": "api.data",
      "targetNodeId": "collector-1"
    },
    {
      "id": "e2",
      "sourceNodeId": "collector-1",
      "signalKey": "window.added",
      "targetNodeId": "accumulator-1"
    },
    {
      "id": "e3",
      "sourceNodeId": "accumulator-1",
      "signalKey": "accumulator.entries",
      "targetNodeId": "iterative-1"
    },
    {
      "id": "e4",
      "sourceNodeId": "iterative-1",
      "signalKey": "reduce.results",
      "targetNodeId": "mmr-1"
    },
    {
      "id": "e5",
      "sourceNodeId": "mmr-1",
      "signalKey": "mmr.selected",
      "targetNodeId": "log-1"
    }
  ]
}
